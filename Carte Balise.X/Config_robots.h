/******************************************************************************/
/************** Carte principale Robot 1 : DSPIC33FJ128MC804*******************/
/******************************************************************************/
/* Fichier 	: Config_robots.h
 * Auteur  	: Quentin
 * Revision	: 1.0
 * Date		: 4 décembre 2014, 12:52
 *******************************************************************************
 *  Fichier qui permet très facilemet d'adapter les paramètres pour changer
 *  de robots.
 *
 ******************************************************************************/

#ifndef CONFIG_ROBOTS_H
#define	CONFIG_ROBOTS_H

#ifdef	__cplusplus
extern "C" {
#endif


#include "system.h"

/******************************************************************************/
/***************************** Defines ****************************************/
/******************************************************************************/

#define BALISE_1
    
#define _Pi                             3.14159265359


#ifdef BALISE_1
    
    /**************************************************************************/
    /******************************** ASSERV **********************************/
    /**************************************************************************/
        //Association distance - Vitesse - Accélérations max
    //#define _VITESSE_CONSIGNE_MAX_MM     2.5
    //#define _VITESSE_DISTANCE_MIN        0.75
    //#define _VITESSE_MAX_MM_TENSION      6.
    //#define _DISTANCE_CONSIGNE_MM        500. 

        //Autres réglages asserv
    #define _SEUIL_IMMOBILITE            100 //200
    #define _MAX_ERREUR_INTEGRALE        20000

    /**************************************************************************/
    /********************************* PID ************************************/
    /**************************************************************************/
   
    //PID
    #define _KP                     0.6  
    #define _KI                     0.005 
    #define _KD                     0. 

    /**************************************************************************/
    /******************************* TENSIONS *********************************/
    /**************************************************************************/

    //Tensions d'alimentations
    #define _TENSION_MOTEUR              12u
    #define _TENSION_ALIM                12u 


    /**************************************************************************/
    /*************************** CONFIGS MOTEURS ******************************/
    /**************************************************************************/


    //Paramètres codeurs, et moteurs
    #define _RAPPORT_REDUCTION           1u

    #define _CODEUR_NB_IMP               2000u
    //PWM
    #define _SENS_ROT                    -1

    #define _AVANCER_MOTEUR              1 
    #define _RECULER_MOTEUR              0   

    /**************************************************************************/
    /***************************** PORTS CARTE ********************************/
    /**************************************************************************/

    
    //La définition des ports relatif à chaque carte se trouve
    //Dans le fichier system.h
    
    #define CAPT1                       BOUTON1
    #define CAPT2                       BOUTON2
    #define CAPT3                       BOUTON3

    /**************************************************************************/
    /**************************************************************************/
    /**************************************************************************/



#endif

#ifdef	__cplusplus
}
#endif

#endif	/* CONFIG_ROBOTS_H */

